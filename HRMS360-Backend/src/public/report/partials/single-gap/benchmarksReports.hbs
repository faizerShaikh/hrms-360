<div class="dont-break w-[210mm] h-[297mm] mx-auto aller p-5">
  <div class="border p-5 relative h-full">
    <div class="absolute top-0 right-0">
      <img
        src="/report/single-gap/images/reportRightCurv.png"
        width="59px"
        alt="right-curv"
        height="59px"
      />
    </div>
    <div>
      <h3
        class="text-[#242424] century-gothic text-base border-b flex justify-between items-center"
      >
        <span>General Strengths</span>
        <div class="flex items-center">
          <div class="flex items-center">
            <div class="mr-3 w-[15px] h-[8px] bg-[#3786EE]"></div>
            <span class="text-main text-xs">Self Rating</span>
          </div>
          <div class="flex items-center mx-7">
            <div class="mr-3 w-[15px] h-[8px] bg-[#D7E7FC]"></div>
            <span class="text-main text-xs">Ratee&apos;s Avg</span>
          </div>
          <div class="flex items-center">
            <div class="mr-3 w-[3px] h-[15px] bg-[#E51932]"></div>
            <span class="text-main text-xs">Benchmark</span>
          </div>
        </div>
      </h3>

      <div id="generalStrengths"></div>
    </div>
  </div>
</div>
<div class="dont-break w-[210mm] h-[297mm] mx-auto aller p-5">
  <div class="border p-5 relative h-full">
    <div class="absolute top-0 right-0">
      <img
        src="/report/single-gap/images/reportRightCurv.png"
        width="59px"
        alt="right-curv"
        height="59px"
      />
    </div>
    <div>
      <h3
        class="text-[#242424] century-gothic text-base border-b flex justify-between items-center"
      >
        <span> Hidden Strengths</span>
        <div class="flex items-center">
          <div class="flex items-center">
            <div class="mr-3 w-[15px] h-[8px] bg-[#3786EE]"></div>
            <span class="text-main text-xs">Self Rating</span>
          </div>
          <div class="flex items-center mx-7">
            <div class="mr-3 w-[15px] h-[8px] bg-[#D7E7FC]"></div>
            <span class="text-main text-xs">Ratee&apos;s Avg</span>
          </div>
          <div class="flex items-center">
            <div class="mr-3 w-[3px] h-[15px] bg-[#E51932]"></div>
            <span class="text-main text-xs">Benchmark</span>
          </div>
        </div>
      </h3>
      <div id="hiddenStrengths"></div>
    </div>
  </div>
</div>

<div class="dont-break w-[210mm] h-[297mm] mx-auto aller p-5">
  <div class="border p-5 relative h-full">
    <div class="absolute top-0 right-0">
      <img
        src="/report/single-gap/images/reportRightCurv.png"
        width="59px"
        alt="right-curv"
        height="59px"
      />
    </div>
    <div>
      <h3
        class="text-[#242424] century-gothic text-base border-b flex justify-between items-center"
      >
        <span>Development Area</span>
        <div class="flex items-center">
          <div class="flex items-center">
            <div class="mr-3 w-[15px] h-[8px] bg-[#3786EE]"></div>
            <span class="text-main text-xs">Self Rating</span>
          </div>
          <div class="flex items-center mx-7">
            <div class="mr-3 w-[15px] h-[8px] bg-[#D7E7FC]"></div>
            <span class="text-main text-xs">Ratee&apos;s Avg</span>
          </div>
          <div class="flex items-center">
            <div class="mr-3 w-[3px] h-[15px] bg-[#E51932]"></div>
            <span class="text-main text-xs">Benchmark</span>
          </div>
        </div>
      </h3>
      <div id="developmentArea"></div>
    </div>
  </div>
</div>

<div class="dont-break w-[210mm] h-[297mm] mx-auto aller p-5">
  <div class="border p-5 relative h-full">
    <div class="absolute top-0 right-0">
      <img
        src="/report/single-gap/images/reportRightCurv.png"
        width="59px"
        alt="right-curv"
        height="59px"
      />
    </div>
    <div>
      <h3
        class="text-[#242424] century-gothic text-base border-b flex justify-between items-center"
      >
        <span>Blind Spot</span>
        <div class="flex items-center">
          <div class="flex items-center">
            <div class="mr-3 w-[15px] h-[8px] bg-[#3786EE]"></div>
            <span class="text-main text-xs">Self Rating</span>
          </div>
          <div class="flex items-center mx-7">
            <div class="mr-3 w-[15px] h-[8px] bg-[#D7E7FC]"></div>
            <span class="text-main text-xs">Ratee&apos;s Avg</span>
          </div>
          <div class="flex items-center">
            <div class="mr-3 w-[3px] h-[15px] bg-[#E51932]"></div>
            <span class="text-main text-xs">Benchmark</span>
          </div>
        </div>
      </h3>
      <div id="blindSpot"></div>
    </div>
  </div>
</div>
<script>
  // benchmark charts
  let benchmarkChartsBaseOptions = {
    chart: {
      type: "bar",
      toolbar: {
        show: false,
      },
      animations: {
        enabled: false,
      },
    },
    tooltip: {
      enabled: false,
    },
    grid: {
      show: true,
      strokeDashArray: 5,
      xaxis: {
        lines: {
          show: true,
        },
      },
      yaxis: {
        lines: {
          show: false,
        },
      },
    },
    stroke: {
      colors: ["transparent"],
      width: 3,
    },
    plotOptions: {
      bar: {
        borderRadius: 2,
        horizontal: true,
        barHeight: "40%",
        rangeBarGroupRows: false,
      },
    },
    dataLabels: {
      enabled: false,
    },
    legend: {
      show: false,
    },
    yaxis: {
      max: 5,
      labels: {
        show: true,
        align: "right",
        minWidth: 200,
        maxWidth: 200,
        style: {
          colors: "#52606d",
          fontSize: "14px",
          fontFamily: '"Aller", "sans-serif"',
        },
      },
    },
    colors: ["#3786EE", "#D7E7FC"],
    xaxis: {
      axisBorder: {
        show: false,
      },
      labels: {
        style: {
          colors: "#52606d",
          fontSize: "14px",
          fontFamily: '"Aller", "sans-serif"',
        },
      },
    },
  };

  let renderCharts = (id, data) => {
    if(data.every(item => !item.data.length)){
      return document.querySelector(`#${id}`).innerHTML = `<p class='text-red-600 text-center mt-[100px] aller'>*No Competencies in this category</p>`
    }
    let options = {
      ...benchmarkChartsBaseOptions,
      chart: {
        ...benchmarkChartsBaseOptions.chart,
        height: data[0].data.length === 1 ? 150 : data[0].data.length * 120,
      },
      series: data,
    };

    var chart = new ApexCharts(document.querySelector(`#${id}`), options);
    chart.render();
  };

  // Genral Strenghts
  renderCharts("generalStrengths", {{{genralData}}});

  // Hidden Strengths
  renderCharts("hiddenStrengths", {{{hiddenData}}});

  // Development Area
  renderCharts("developmentArea", {{{developmentData}}});

  // Blind Spot
  renderCharts("blindSpot", {{{blindspotData}}});
</script>
